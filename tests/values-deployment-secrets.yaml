# Deployment with ExternalSecret integration test case
workload:
  kind: Deployment

config:
  externalSecret:
    enabled: true
    refreshInterval: "1h"
    secretStoreRef:
      name: helm-primedb
      kind: SecretStore
    target:
      name: my-app-secret
    data:
      - secretKey: DB_PASSWORD
        remoteRef:
          key: oracle/prod/db-pass

  # Using the secret created by ExternalSecret in the deployment
  extraEnvFromSecret:
    - my-app-secret
