# Deployment with ExternalSecret integration test case
kind: Deployment

externalSecret:
  enabled: true
  refreshInterval: "1h"
  secretStoreRef:
    name: helm-primedb
    kind: SecretStore
  target:
    name: my-app-secret
  data:
    - secretKey: DB_PASSWORD
      remoteRef:
        key: oracle/prod/db-pass

# Using the secret created by ExternalSecret in the deployment
envFrom:
  - secretRef:
      name: my-app-secret
