# Default values for helm-primedb.
# Enterprise-grade organization with categorized parameters.

# =============================================================================
# GLOBAL SETTINGS
# =============================================================================
global:
  nameOverride: ""
  fullnameOverride: ""
  commonLabels: {}
  commonAnnotations: {}
  imagePullSecrets: []

# =============================================================================
# WORKLOAD CONFIGURATION
# =============================================================================
workload:
  # Type: Deployment or StatefulSet
  kind: Deployment
  replicaCount: 1
  revisionHistoryLimit: 3

  # Image configuration
  image:
    repository: nginx
    pullPolicy: IfNotPresent
    tag: ""

  # Container configuration
  workingDir: ""
  command: []
  args: []
  lifecycle: {}

  # Environment variables
  env: []
    # - name: VAR_NAME
    #   value: "value"

  # Resource limits and requests
  resources: {}
    # limits:
    #   cpu: 100m
    #   memory: 128Mi
    # requests:
    #   cpu: 100m
    #   memory: 128Mi

  # Health probes
  probes:
    startup:
      enabled: false
      httpGet:
        path: /
        port: http
      failureThreshold: 30
      periodSeconds: 10

    liveness:
      enabled: false
      httpGet:
        path: /
        port: http
      initialDelaySeconds: 30
      periodSeconds: 10
      timeoutSeconds: 5
      failureThreshold: 3

    readiness:
      enabled: false
      httpGet:
        path: /
        port: http
      initialDelaySeconds: 15
      periodSeconds: 10
      timeoutSeconds: 5
      successThreshold: 1
      failureThreshold: 3

  # Deployment/StatefulSet specific
  updateStrategy: {}
  terminationGracePeriodSeconds: 30

  # StatefulSet specific
  statefulset:
    annotations: {}

  # Deployment specific
  deployment:
    annotations: {}

  # Pod configuration
  podAnnotations: {}
  podSecurityContext: {}
  securityContext: {}

  # Scheduling
  nodeSelector: {}
  tolerations: []
  affinity: {}
  priorityClassName: ""
  schedulerName: ""
  hostAliases: []
  dnsPolicy: ClusterFirst
  dnsConfig: {}

  # Additional containers
  initContainers: []
  extraContainers: []

# =============================================================================
# NETWORKING
# =============================================================================
networking:
  # Service configuration
  service:
    type: ClusterIP
    port: 80
    targetPort: http
    protocol: TCP
    name: http

  # Ingress configuration
  ingress:
    enabled: false
    className: nginx
    annotations: {}
    hosts:
      - host: chart-example.local
        paths:
          - path: /
            pathType: Prefix
    extraHosts: []
    extraPaths: []
    extraTls: []
    tls:
      enabled: false
      secretName: ""

  # Internal Ingress
  ingressInternal:
    enabled: false
    className: nginx-internal
    annotations: {}
    hosts:
      - host: chart-example-internal.local
        paths:
          - path: /
            pathType: Prefix
    extraHosts: []
    extraPaths: []
    extraTls: []
    tls:
      enabled: true
      secretName: ""

  # Gateway API
  gateway:
    enabled: false
    gatewayClass:
      enabled: false
      controllerName: "example.com/gateway-controller"
    gatewayClassName: ""
    listeners:
      - name: http
        port: 80
        protocol: HTTP
        allowedRoutes:
          namespaces:
            from: Same
    parentRefs: []
    hostnames: []
    rules: []

  # Network Policy
  networkPolicy:
    enabled: false
    podSelector: {}
    policyTypes: ["Ingress"]
    ingress: []
    egress: []

# =============================================================================
# CONFIGURATION MANAGEMENT
# =============================================================================
config:
  # Dynamic ConfigMap generation from directory
  configFilesPath: "files"

  # Manual ConfigMaps
  extraConfigMaps: []
    # - name: app-config
    #   mountPath: /etc/myapp
    #   data:
    #     config.yaml: |
    #       key: value
    # - name: existing-cm
    #   mountPath: /etc/external
    #   existingName: my-custom-config
    # - name: folder-config
    #   mountPath: /etc/configs
    #   fromFolder: configs/

  # Manual Secrets
  extraSecrets: []
    # - name: app-secret
    #   mountPath: /etc/secret
    #   data:
    #     apiKey: "my-secret-key"
    # - name: existing-secret
    #   mountPath: /etc/db
    #   existingName: db-credentials

  # Environment variables from ConfigMaps/Secrets
  extraEnvFromConfigMap: []
    # - my-config-map
    # - "{{ include \"chartname.fullname\" . }}-dynamic-config"

  extraEnvFromSecret: []
    # - my-secret
    # - "{{ include \"chartname.fullname\" . }}-eso-secret"

  # SealedSecrets
  sealedSecrets:
    enabled: false

  # External Secrets Operator
  externalSecret:
    enabled: false
    secretStoreRef:
      name: ""
      kind: SecretStore
    target:
      creationPolicy: Owner
    refreshInterval: "1h"
    data: []
    dataFrom: []

  # Secret Store
  secretStore:
    enabled: false
    provider: {}

  # Legacy (deprecated)
  configMaps:
    enabled: false
  secrets:
    enabled: false

# =============================================================================
# SECURITY & RBAC
# =============================================================================
security:
  # Service Account
  serviceAccount:
    create: true
    annotations: {}
    name: ""

  # Pod Disruption Budget
  pdb:
    enabled: false
    minAvailable: 1

# =============================================================================
# STORAGE
# =============================================================================
storage:
  # Persistence
  persistence:
    enabled: true
    storageClass: "oci-bv-retain"
    accessModes: ["ReadWriteOnce"]
    size: 50Gi
    claims: []
    name: ""
    mountPath: "/data"
    existingClaim: ""

  # Volume Claim Templates (for StatefulSet)
  volumeClaimTemplates: []

  # Additional volumes and mounts
  volumes: []
  volumeMounts: []
  extraVolumes: []
  extraVolumeMounts: []

# =============================================================================
# SCALING
# =============================================================================
scaling:
  # Horizontal Pod Autoscaler
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 100
    targetCPUUtilizationPercentage: 80

# =============================================================================
# OBSERVABILITY
# =============================================================================
observability:
  # Prometheus Monitoring
  monitoring:
    serviceMonitor:
      enabled: false
      interval: 30s
      scrapeTimeout: 10s
      path: /metrics
      port: http
      additionalLabels: {}

    prometheusRules:
      enabled: false
      additionalLabels: {}
      groups: []

  # OpenTelemetry
  openTelemetry:
    enabled: false
    mode: deployment
    config: |
      receivers:
        otlp:
          protocols:
            grpc:
            http:
      exporters:
        otlphttp:
          endpoint: "http://tempo.svc.cluster.local:4318"
      service:
        pipelines:
          traces:
            receivers: [otlp]
            exporters: [otlphttp]

    instrumentation:
      enabled: false
      sampler:
        type: parentbased_traceidratio
        argument: "1"
      language: java # java, python, dotnet, nodejs, go, ruby, php, apacheHttpd

# =============================================================================
# ADVANCED & CUSTOM
# =============================================================================
# CronJobs
cronJobs: []

# Extra Kubernetes objects
extraObjects: []

# Extra labels for all resources
extraLabels: {}
